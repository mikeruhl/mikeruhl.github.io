{"componentChunkName":"component---src-templates-blog-post-js","path":"/convert-repository-files-to-utf8/","result":{"data":{"site":{"siteMetadata":{"title":"Mike Ruhl's Dev Dream Journal"}},"markdownRemark":{"id":"4f9ea68c-5131-5fbb-b563-4b4a6295c3b4","excerpt":"I recently had to convert a repository from Windows-1252 to UTF-8. The encoding was causing our web pages not to render characters outside of the 1252 set…","html":"<p>I recently had to convert a repository from Windows-1252 to UTF-8. The encoding was causing our web pages not to render characters outside of the 1252 set incorrectly. So, I wrote a script to do this!</p>\n<p>What it does: It accepts a path <code class=\"language-text\">-Path</code> and recursively searches for all files under that path. It then checks to see if that file is ignored in the .gitignore. If not, it moves on to checking if it’s ascii. If it passes that test, it will grab the contents and write them as UTF-8.</p>\n<p><strong>EDIT:</strong> I now filter for designer and resx files. For my purpose, these couldn’t get converted because of some special characters.</p>\n<p>Feel free to use and offer any feedback about it.</p>\n<h2>Parameters</h2>\n<h3>-Path</h3>\n<p>Directory to start recursive search. This directory is assumed valid and a git repository.</p>\n<h3>-ShowIgnored</h3>\n<p>A switch to output reasons why a file was skipped.</p>\n<p>Here’s the gist:</p>\n<p><div id=\"gist95047115\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-convertfilestoutf8-ps1\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-powershell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">param</span> (   </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC2\" class=\"blob-code blob-code-inner js-file-line\">    [<span class=\"pl-c1\">Parameter</span>(<span class=\"pl-v\">Mandatory</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">$true</span>)]</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC3\" class=\"blob-code blob-code-inner js-file-line\">    [<span class=\"pl-k\">string</span>]<span class=\"pl-smi\">$Path</span><span class=\"pl-k\">,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC4\" class=\"blob-code blob-code-inner js-file-line\">    [<span class=\"pl-k\">switch</span>]<span class=\"pl-smi\">$ShowIgnored</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC5\" class=\"blob-code blob-code-inner js-file-line\">)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">IsGitIgnored</span>([<span class=\"pl-k\">System.IO.FileInfo</span>]<span class=\"pl-smi\">$File</span><span class=\"pl-k\">,</span> [<span class=\"pl-k\">string</span>] <span class=\"pl-smi\">$GitPath</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC8\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">New-Object</span> System.Diagnostics.ProcessStartInfo</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.FileName</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>git<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.RedirectStandardError</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">$true</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.RedirectStandardOutput</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">$true</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.UseShellExecute</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">$false</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC13\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.WorkingDirectory</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">$Path</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$pinfo<span class=\"pl-smi\">.Arguments</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>check-ignore $(<span class=\"pl-smi\">$File<span class=\"pl-smi\">.FullName</span></span>)<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC15\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$p</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">New-Object</span> System.Diagnostics.Process</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$p<span class=\"pl-smi\">.StartInfo</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">$pinfo</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$p<span class=\"pl-smi\">.Start</span></span>() <span class=\"pl-k\">|</span> <span class=\"pl-c1\">Out-Null</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$p<span class=\"pl-smi\">.WaitForExit</span></span>()</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC19\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$stdout</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">$p<span class=\"pl-smi\">.StandardOutput.ReadToEnd</span></span>()</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">return</span> <span class=\"pl-k\">!</span>[<span class=\"pl-k\">string</span>]::IsNullOrEmpty(<span class=\"pl-smi\">$stdout</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC21\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC22\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC23\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> Function from: https://stackoverflow.com/questions/1077634/powershell-search-script-that-ignores-binary-files<span class=\"pl-c\"></span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC24\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">IsAscii</span>([<span class=\"pl-k\">System.IO.FileInfo</span>]<span class=\"pl-smi\">$item</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC25\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">begin</span> { </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC26\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">$validList</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">New-Object</span> System.Collections.ArrayList</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC27\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">$validList<span class=\"pl-smi\">.AddRange</span></span>([<span class=\"pl-k\">byte</span>[]] (<span class=\"pl-c1\">10</span><span class=\"pl-k\">,</span> <span class=\"pl-c1\">13</span>) )</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC28\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">$validList<span class=\"pl-smi\">.AddRange</span></span>([<span class=\"pl-k\">byte</span>[]] (<span class=\"pl-c1\">31</span><span class=\"pl-k\">..</span><span class=\"pl-c1\">127</span>) )</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC29\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC30\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L31\" class=\"blob-num js-line-number\" data-line-number=\"31\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC31\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">process</span> {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L32\" class=\"blob-num js-line-number\" data-line-number=\"32\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC32\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">try</span> {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L33\" class=\"blob-num js-line-number\" data-line-number=\"33\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC33\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-smi\">$reader</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">$item<span class=\"pl-smi\">.Open</span></span>([<span class=\"pl-k\">System.IO.FileMode</span>]::Open)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L34\" class=\"blob-num js-line-number\" data-line-number=\"34\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC34\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-smi\">$bytes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">new-object</span> byte[] <span class=\"pl-c1\">1024</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L35\" class=\"blob-num js-line-number\" data-line-number=\"35\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC35\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-smi\">$numRead</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">$reader<span class=\"pl-smi\">.Read</span></span>(<span class=\"pl-smi\">$bytes</span><span class=\"pl-k\">,</span> <span class=\"pl-c1\">0</span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">$bytes<span class=\"pl-smi\">.Count</span></span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L36\" class=\"blob-num js-line-number\" data-line-number=\"36\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC36\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L37\" class=\"blob-num js-line-number\" data-line-number=\"37\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC37\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">for</span> (<span class=\"pl-smi\">$i</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span>; <span class=\"pl-smi\">$i</span> <span class=\"pl-k\">-lt</span> <span class=\"pl-smi\">$numRead</span>; <span class=\"pl-k\">++</span><span class=\"pl-smi\">$i</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L38\" class=\"blob-num js-line-number\" data-line-number=\"38\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC38\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">$validList<span class=\"pl-smi\">.Contains</span></span>(<span class=\"pl-smi\">$bytes</span>[<span class=\"pl-smi\">$i</span>]))</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L39\" class=\"blob-num js-line-number\" data-line-number=\"39\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC39\" class=\"blob-code blob-code-inner js-file-line\">                { <span class=\"pl-k\">return</span> <span class=\"pl-c1\">$false</span> }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L40\" class=\"blob-num js-line-number\" data-line-number=\"40\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC40\" class=\"blob-code blob-code-inner js-file-line\">            }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L41\" class=\"blob-num js-line-number\" data-line-number=\"41\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC41\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c1\">$true</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L42\" class=\"blob-num js-line-number\" data-line-number=\"42\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC42\" class=\"blob-code blob-code-inner js-file-line\">        }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L43\" class=\"blob-num js-line-number\" data-line-number=\"43\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC43\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">finally</span> {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L44\" class=\"blob-num js-line-number\" data-line-number=\"44\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC44\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">$reader</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L45\" class=\"blob-num js-line-number\" data-line-number=\"45\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC45\" class=\"blob-code blob-code-inner js-file-line\">            { <span class=\"pl-smi\">$reader<span class=\"pl-smi\">.Dispose</span></span>() }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L46\" class=\"blob-num js-line-number\" data-line-number=\"46\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC46\" class=\"blob-code blob-code-inner js-file-line\">        }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L47\" class=\"blob-num js-line-number\" data-line-number=\"47\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC47\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L48\" class=\"blob-num js-line-number\" data-line-number=\"48\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC48\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L49\" class=\"blob-num js-line-number\" data-line-number=\"49\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC49\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L50\" class=\"blob-num js-line-number\" data-line-number=\"50\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC50\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">$files</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Get-ChildItem</span> <span class=\"pl-k\">-</span>Recurse <span class=\"pl-k\">-</span>File <span class=\"pl-k\">-</span>Path <span class=\"pl-smi\">$Path</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L51\" class=\"blob-num js-line-number\" data-line-number=\"51\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC51\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">foreach</span> (<span class=\"pl-smi\">$file</span> <span class=\"pl-k\">in</span> <span class=\"pl-smi\">$files</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L52\" class=\"blob-num js-line-number\" data-line-number=\"52\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC52\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$designerFiles</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">$file<span class=\"pl-smi\">.Name.EndsWith</span></span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>.Designer.cs<span class=\"pl-pds\">&quot;</span></span><span class=\"pl-k\">,</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>CurrentCultureIgnoreCase<span class=\"pl-pds\">&quot;</span></span>) <span class=\"pl-k\">-or</span> <span class=\"pl-smi\">$file<span class=\"pl-smi\">.Name.EndsWith</span></span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>.resx<span class=\"pl-pds\">&quot;</span></span><span class=\"pl-k\">,</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>CurrentCultureIgnoreCase<span class=\"pl-pds\">&quot;</span></span>))</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L53\" class=\"blob-num js-line-number\" data-line-number=\"53\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC53\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">$designerFiles</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L54\" class=\"blob-num js-line-number\" data-line-number=\"54\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC54\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">$ShowIgnored</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L55\" class=\"blob-num js-line-number\" data-line-number=\"55\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC55\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c1\">Write-Output</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Ignoring: $(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span>).  Reason: Protected File<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L56\" class=\"blob-num js-line-number\" data-line-number=\"56\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC56\" class=\"blob-code blob-code-inner js-file-line\">        }        </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L57\" class=\"blob-num js-line-number\" data-line-number=\"57\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC57\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">continue</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L58\" class=\"blob-num js-line-number\" data-line-number=\"58\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC58\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L59\" class=\"blob-num js-line-number\" data-line-number=\"59\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC59\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$ignore</span> <span class=\"pl-k\">=</span> IsGitIgnored <span class=\"pl-k\">-</span>File <span class=\"pl-smi\">$file</span> <span class=\"pl-k\">-</span>Path <span class=\"pl-smi\">$GitPath</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L60\" class=\"blob-num js-line-number\" data-line-number=\"60\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC60\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">$ignore</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L61\" class=\"blob-num js-line-number\" data-line-number=\"61\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC61\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">$ShowIgnored</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L62\" class=\"blob-num js-line-number\" data-line-number=\"62\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC62\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c1\">Write-Output</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Ignoring: $(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span>).  Reason: GitIgnore<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L63\" class=\"blob-num js-line-number\" data-line-number=\"63\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC63\" class=\"blob-code blob-code-inner js-file-line\">        }        </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L64\" class=\"blob-num js-line-number\" data-line-number=\"64\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC64\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">continue</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L65\" class=\"blob-num js-line-number\" data-line-number=\"65\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC65\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L66\" class=\"blob-num js-line-number\" data-line-number=\"66\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC66\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$isAscii</span> <span class=\"pl-k\">=</span> IsAscii <span class=\"pl-smi\">$file</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L67\" class=\"blob-num js-line-number\" data-line-number=\"67\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC67\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">$isAscii</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L68\" class=\"blob-num js-line-number\" data-line-number=\"68\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC68\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">$ShowIgnored</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L69\" class=\"blob-num js-line-number\" data-line-number=\"69\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC69\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c1\">Write-Output</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Ignoring: $(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span>).  Reason: Binary<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L70\" class=\"blob-num js-line-number\" data-line-number=\"70\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC70\" class=\"blob-code blob-code-inner js-file-line\">        } </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L71\" class=\"blob-num js-line-number\" data-line-number=\"71\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC71\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">continue</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L72\" class=\"blob-num js-line-number\" data-line-number=\"72\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC72\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L73\" class=\"blob-num js-line-number\" data-line-number=\"73\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC73\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">$MyFile</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Get-Content</span> <span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L74\" class=\"blob-num js-line-number\" data-line-number=\"74\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC74\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">$MyFile<span class=\"pl-smi\">.Length</span></span> <span class=\"pl-k\">-gt</span> <span class=\"pl-c1\">0</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L75\" class=\"blob-num js-line-number\" data-line-number=\"75\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC75\" class=\"blob-code blob-code-inner js-file-line\">        [<span class=\"pl-k\">System.IO.File</span>]::WriteAllLines(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">$MyFile</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L76\" class=\"blob-num js-line-number\" data-line-number=\"76\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC76\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Write-Output</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Changed: $(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span>)<span class=\"pl-pds\">&quot;</span></span>  </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L77\" class=\"blob-num js-line-number\" data-line-number=\"77\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC77\" class=\"blob-code blob-code-inner js-file-line\">    }<span class=\"pl-k\">else</span>{</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L78\" class=\"blob-num js-line-number\" data-line-number=\"78\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC78\" class=\"blob-code blob-code-inner js-file-line\">        [<span class=\"pl-k\">System.IO.File</span>]::WriteAllLines(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span><span class=\"pl-k\">,</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span><span class=\"pl-pds\">&quot;</span></span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L79\" class=\"blob-num js-line-number\" data-line-number=\"79\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC79\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Write-Output</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>File Empty: $(<span class=\"pl-smi\">$file<span class=\"pl-smi\">.FullName</span></span>)<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L80\" class=\"blob-num js-line-number\" data-line-number=\"80\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC80\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L81\" class=\"blob-num js-line-number\" data-line-number=\"81\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC81\" class=\"blob-code blob-code-inner js-file-line\">      </td>\n      </tr>\n      <tr>\n        <td id=\"file-convertfilestoutf8-ps1-L82\" class=\"blob-num js-line-number\" data-line-number=\"82\"></td>\n        <td id=\"file-convertfilestoutf8-ps1-LC82\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/mikeruhl/0340431354810bc6f45a18e6b69a5e87/raw/0fa7f6c95ae3ebc15f774342733341da74051cce/ConvertFilesToUtf8.ps1\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/mikeruhl/0340431354810bc6f45a18e6b69a5e87#file-convertfilestoutf8-ps1\">ConvertFilesToUtf8.ps1</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>","frontmatter":{"title":"Convert repository files to UTF8","date":"March 08, 2019","description":"import from previous blog."}}},"pageContext":{"slug":"/convert-repository-files-to-utf8/","previous":{"fields":{"slug":"/azure-dns-zone-powershell-scripts/"},"frontmatter":{"title":"Azure DNS Zone Powershell Scripts"}},"next":{"fields":{"slug":"/access-your-ad-object-id-in-terraform/"},"frontmatter":{"title":"Access your Azure AD Object ID in Terraform"}}}},"staticQueryHashes":["1246554614","2841359383"]}